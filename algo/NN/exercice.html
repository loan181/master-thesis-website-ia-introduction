<html lang="fr">
<head>
    <title>Exercices Réseau neuronnal</title>
    

<!-- Database -->

<!-- Firebase App is always required and must be first -->
<script src="https://www.gstatic.com/firebasejs/5.8.3/firebase-app.js"></script>

<!-- Add additional services that you want to use -->
<!--<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-auth.js"></script>-->
<script src="https://www.gstatic.com/firebasejs/5.8.3/firebase-database.js"></script>
<!--<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-functions.js"></script>-->

<!-- Comment out (or don't include) services that you don't want to use -->
<!-- <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-storage.js"></script> -->

<script>
    var config = {
        apiKey: "AIzaSyDbZnAznbgeP1_bxyn9XNGGL4C9z-ex46k",
        authDomain: "site-memoire.firebaseapp.com",
        databaseURL: "https://site-memoire.firebaseio.com",
        projectId: "site-memoire",
        storageBucket: "site-memoire.appspot.com",
        messagingSenderId: "639582982387"
    };
    firebase.initializeApp(config);
</script>

<script src="/static/js/Database.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-134452435-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134452435-1');
</script>

<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<!-- Font Awesome-->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">

<!-- Custom css -->
<link rel="stylesheet" href="/static/css/style.css">

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.0/dist/bootstrap-toc.min.css">
<!-- add after bootstrap.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.0/dist/bootstrap-toc.min.js"></script>
    <script src="/static/js/contentForTeacher.js"></script>
    <script src="/static/js/automaticCorrection.js"></script>

</head>


<body data-spy="scroll" data-target="#toc">
<nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-primary" style="z-index: 1025">
    <!--<a class="navbar-brand" href="#">Titre</a>-->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul id="mainNavbarUl" class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="/"><i class="fas fa-home"></i></a>
            </li>
            <!-- Rest is filled automatically -->
        </ul>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="/contact.html"><i class="far fa-envelope"></i> Me contacter</a>
            </li>
        </ul>
        <!--<form class="form-inline my-2 my-lg-0">-->
            <!--<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">-->
            <!--<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>-->
        <!--</form>-->
    </div>
</nav>

<script>
    let algoPrefix = "/algo/";
    let algoActivityDesc = [
        "Introduction au concept général de l'algorithme",
        "Série de petits exercices de préparation pour t'introduire l'idée derrière l'algorithme<br>Leurs corrections est automatisée.",
        "Phase expliquant le fonctionement et objectifs de l'activité.<br>Cette phase est nécessaire pour comprendre la suivante",
        "Activité intéractive de l'algorithme. Les activités dépendent des algorithmes eux-mêmes."
    ];
    let algoActivityIcon = [
        "<i class=\"far fa-lightbulb\"></i>",
        "<i class=\"fas fa-dumbbell\"></i>",
        "<i class=\"far fa-question-circle\"></i>",
        "<i class=\"fas fa-flag-checkered\"></i>"
    ];
    // We can't use javascript variable into jekyll, so we precompute the values here
    let algoName = [ "Méthodes des K plus proches voisins",  "Arbre de décisions",  "Réseau neuronal", ];
    let algoHRef = [ "KNN",  "arbre",  "NN", ];
    let algoActivityName = [ "Blockly",  "Arbre intéractif",  "Réseau de neurone intéractif", ];
    let algoIcon = [ '<i class="far fa-dot-circle"></i>',  '<i class="fas fa-tree"></i>',  '<svg class="icon icon-cart" role="img" xmlns="http://www.w3.org/2000/svg" style="height:21px" viewBox="0 0 640 512" class="svg-inline--fa fa-chart-network fa-w-20"><path fill="currentColor" d="M568 368c-19.1 0-36.3 7.6-49.2 19.7L440.6 343c4.5-12.2 7.4-25.2 7.4-39 0-61.9-50.1-112-112-112-8.4 0-16.6 1.1-24.4 2.9l-32.2-69c15-13.2 24.6-32.3 24.6-53.8 0-39.8-32.2-72-72-72s-72 32.2-72 72 32.2 72 72 72c.9 0 1.8-.2 2.7-.3l33.5 71.7C241.5 235.9 224 267.8 224 304c0 61.9 50.1 112 112 112 30.7 0 58.6-12.4 78.8-32.5l82.2 47c-.4 3.1-1 6.3-1 9.5 0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72zM232 96c-13.2 0-24-10.8-24-24s10.8-24 24-24 24 10.8 24 24-10.8 24-24 24zm104 272c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64zm232 96c-13.2 0-24-10.8-24-24s10.8-24 24-24 24 10.8 24 24-10.8 24-24 24zm-54.4-261.2l-19.2-25.6-48 36 19.2 25.6 48-36zM576 192c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zM152 320h48v-32h-48v32zm-88-80c-35.3 0-64 28.7-64 64s28.7 64 64 64 64-28.7 64-64-28.7-64-64-64z" class="" data-darkreader-inline-fill="" style="--darkreader-inline-fill:currentColor;"></path></svg>', ];

    function populateNavBar() {
        for (let i = 0; i < algoHRef.length; i++) {
            let listItem = $('<li>');
            listItem.addClass("nav-item dropdown bg-primary");

            let algoIndexLink = $('<a>');
            algoIndexLink.addClass("nav-link");
            algoIndexLink.attr('href', algoPrefix + algoHRef[i] + "/");
            algoIndexLink.html(algoIcon[i] + " " + algoName[i] + ' <i class="fas fa-caret-down"></i>');
            listItem.append(algoIndexLink);

            let dropdown = $('<div>');
            dropdown.addClass("dropdown-menu showOnHover");

            let sections = getAllHrefForAlgo(i);
            for (let j = 0; j < sections.length; j++) {
                if (j === 2) {
                    dropdown.append($('<div>').addClass("dropdown-divider"));
                }
                sections[j].addClass("dropdown-item");
                dropdown.append(sections[j]);
            }

            listItem.append(dropdown);

            $("#mainNavbarUl").append(listItem);
        }


        /*
        <li class="nav-item dropdown bg-primary">
            <a class="nav-link" href="/algo/KNN/" role="button" aria-haspopup="true" aria-expanded="false">
                K plus proches voisins <i class="fas fa-caret-down"></i>
            </a>
            <div class="dropdown-menu showOnHover" aria-labelledby="navbarDropdown" style="z-index: 10001">
                <a class="dropdown-item" href="/algo/KNN/ex-preparatoires">Exercices préparatoires</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="/algo/KNN/blockly-aide">Consignes et utilisation pour la phase pratique</a>
                <a class="dropdown-item" href="/algo/KNN/blockly">Phase pratique (Blockly)</a>
            </div>
        </li>
         */
    }
    populateNavBar();

    function getAllHrefForAlgo(algoConfingIndex) {
        let ret = [];
        let pagesDefaultName = ["Introduction", "Exercices préparatoires", "Consignes et utilisation pour l'activité", "Activité"];
        let pagesDefaultHref = ["intro", "exercice", "activite-aide", "activite"];

        for (let i = 0; i < pagesDefaultName.length; i++) {
            let link = $('<a>');
            link.attr('href', algoPrefix + algoHRef[algoConfingIndex] + "/" + pagesDefaultHref[i]);

            let linkText = pagesDefaultName[i];
            if (i === 3) {
                linkText += ` (${algoActivityName[algoConfingIndex]})`;
            }
            link.html(algoActivityIcon[i] + " " + linkText);

            ret.push(link);
        }
        return ret;
    }

    // Automatically highlight in the dropdown if the link match
    function highlightCorrectNavItem() {
        var allLinks = document.getElementsByTagName("a");
        for(var i = 0; i < allLinks.length; i++){
            var curLink = allLinks[i];
            // We use concatenation of this 2 windows parameters to avoid # id inclusion when href to id
            if (curLink.href === window.location.origin + window.location.pathname) {
                curLink.className += " active";
                curLink.parentNode.parentNode.querySelector('a').getElementsByClassName("fa-caret-down")[0].className += " text-white lead";
                break;
            }
        }
    }
    highlightCorrectNavItem();

</script>

<main role="main" class="container" style="max-width: 95%">
    <div class="row">
        <!-- sidebar, which will move to the top on a small screen -->
        <div class="col-sm-3">
            <div class="sticky-top" style="padding-top:64px">
                <nav id="toc" data-toggle="toc" style="padding-bottom: 32px" ></nav>
                <div id="pinnableArea" class="card" style="overflow: auto;max-height: 400px">
                    <div class="text-muted" style="text-align: center">
                        Utilise le bouton avec l'icone <br>
                        <i style="font-size: 24px" class="fas fa-thumbtack"></i> <br>
                        pour épingler des éléments ici
                    </div>
                </div>
            </div>
        </div>

        <!-- main content area -->
        <div class="col-sm-9">
            <main role="main" class="container">
                <h1>Exercices Réseau neuronnal</h1>

<h2>Contexte</h2>
<p>
    Tout au long des exercices qui vont suivre, on va utiliser le même réseau neuronal.<br>
    Ce réseau a été entrainé pour reconnaitre une ligne verticale d'une ligne horizontale dans une image en noir et blanc de 3x3 pixels.
</p>
    Le réseau est composé de 3 couches :
    <ol>
        <li>
            La première couche est composé de 9 neuronnes (les 9 pixels de notre image)
        </li>
        <li>
            Nous n'avons qu'une seule couche cachée composé de 3 neuronnes
        </li>
        <li>
            Enfin une couche de sortie composé de 2 neuronne, le premier indique si la ligne est reconnu comme vertical, le second comme horizontal
        </li>
    </ol>
    <img id="NNSchema" class="img-fluid mx-auto d-block" src="/static/img/NN/ex/schema.svg">
    <small class="text-muted">Les couleurs dans la grille de gauche sont juste pour que tu comprennes mieux la composition de la première couche. Chaque pixel sera toujours soit blanc, soit noir.</small>
<p>
    Ainsi, si notre réseau à été bien entrainé, si les pixels 1, 3, 4, 6, 7 et 9 sont blanc et 2, 5 et 8 sont noir, notre réseau devrait reconnaitre une ligne verticale par exemple.
</p>


<h2>Exercices</h2>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Valeur des neurones de la première couche</h3>
    

    
        <div data-ex="intro"><p>
    En entrée nous avons une image de 3x3 pixels, notre but va être d'utiliser cette image pour donner les valeurs de nos 9 neuronnes de la couche d'entrée.<br>
    L'image est en noir et blanc, la valeur du neurone associé vaudra <code>1</code> si le pixel correspondant est noir et <code>0</code> s'il est blanc.<br>
    Tu peux regarder le <a href="#NNSchema">schéma du réseau</a> si tu as un doute sur le lien entre les coordonnées des pixels et son neuronne associé.
    Par exemple le pixel en x = 2 et y = 0 correspond au neuronne n°3 de la couche d'entrée.
</p>
</div>
    

    
        <div data-ex="question"><p>
    Quelle est la valeur de chaque neurone d'entrée pour la grille suivante ?
    <img class="img-fluid mx-auto d-block" src="/static/img/NN/ex/grilleEx.PNG">
</p>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Neuronne n°1</span>
    </div>
    <input type="number" value="0" min="0" max="1" class="form-control" data-answer="0">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Neuronne n°2</span>
    </div>
    <input type="number" value="0" min="0" max="1" class="form-control" data-answer="1">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Neuronne n°3</span>
    </div>
    <input type="number" value="0" min="0" max="1" class="form-control" data-answer="1">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Neuronne n°4</span>
    </div>
    <input type="number" value="0" min="0" max="1" class="form-control" data-answer="1">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Neuronne n°5</span>
    </div>
    <input type="number" value="0" min="0" max="1" class="form-control" data-answer="0">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Neuronne n°6</span>
    </div>
    <input type="number" value="0" min="0" max="1" class="form-control" data-answer="0">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Neuronne n°7</span>
    </div>
    <input type="number" value="0" min="0" max="1" class="form-control" data-answer="0">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Neuronne n°8</span>
    </div>
    <input type="number" value="0" min="0" max="1" class="form-control" data-answer="0">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Neuronne n°9</span>
    </div>
    <input type="number" value="0" min="0" max="1" class="form-control" data-answer="1">
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            La grille de l'aide permet de comprendre facilement. On peut aussi utilise l'astuce de lire dans le sens de lecture en sautant les lignes. La réponse est : (0, 1, 1, 1, 0, 0, 0, 0, 1).

        </p>
    </div>
</div>
    

    
        <div class="card border-warning mb-3">
    <div class="card-header">
        <button class="btn btn-link" type="button" onclick="toggleNext(this)">
            Aide
        </button>
    </div>
    <div class="collapse hide">
        <div class="card-body">
            <p class="card-text">
                Cette grille devrait t'aider : <img class="img-fluid mx-auto d-block" src="/static/img/NN/ex/grilleExHelp.PNG"> Le pixel 1 est blanc, donc la valeur du neurone d'entrée n°1 est 0.<br> Le pixel 2 est noir, donc la valeur du neurone d'entrée n°2 est 1 ...

            </p>
        </div>
    </div>
</div>
    
</div>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Produit matriciel</h3>
    

    
        <div data-ex="intro"><p>
    Pour faire le calcul de la valeur d'un neuronne, cela demandera que tu sache faire un produit matriciel.
</p>
</div>
    

    
        <div data-ex="question"><p>
    Quel est le résultat de : (0, 1, 0, 1, 1) * ((1, 2, 3, 4, 5), (-1, 2, 4, 5, 3), (51, 2, -42, 4, 5))
</p>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">(</span>
    </div>
    <input type="number" value="0" class="form-control" data-answer="11">
    <div class="input-group-prepend">
        <span class="input-group-text">,</span>
    </div>
    <input type="number" value="0" class="form-control" data-answer="10">
    <div class="input-group-prepend">
        <span class="input-group-text">,</span>
    </div>
    <input type="number" value="0" class="form-control" data-answer="11">
    <div class="input-group-append">
        <span class="input-group-text">)</span>
    </div>
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Le résultat est (11, 10, 11). Détail des calculs :<br> (0 * 1 + 1 * 2 + 0 * 3 + 1 * 4 + 1 * 5,<br> 0 * (-1) + 1 * 2 + 0 * 4 + 1 * 5 + 1 * 3,<br> 0 * 51 + 1 * 2 + 0 * (-42) + 1 * 4 + 1 * 5) = (11, 10, 11)

        </p>
    </div>
</div>
    

    
        <div class="card border-warning mb-3">
    <div class="card-header">
        <button class="btn btn-link" type="button" onclick="toggleNext(this)">
            Aide
        </button>
    </div>
    <div class="collapse hide">
        <div class="card-body">
            <p class="card-text">
                Si tu as oublié le calcul, jette un oeil à la <a target="_blank" href="https://fr.wikipedia.org/wiki/Produit_matriciel#Produit_matriciel_ordinaire"> page wikipedia</a>.<br> Les détail de calcul pour la première valeur est par exemple : 0 * 1 + 1 * 2 + 0 * 3 + 1 * 4 + 1 * 5 = 11

            </p>
        </div>
    </div>
</div>
    
</div>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Calcul de la valeur d'un neurone d'une couche autre que la première</h3>
    

    
        <div data-ex="intro"><p>
    Le calcul de la valeur d'un neurone de la couche en dehors de la première est plus délicat.<br>
    Pour cela tu vas devoir appliquer un produit matriciel entre la valeur de tout les neuronnes de la couche précédente avec la valeur des poids associé au neurone que tu souhaite calculer.
</p> <p>
    On va commencer doucement en calculant la valeur du premier neurone de la seconde couche.
    Pour cela je te donne les 2 vecteurs que tu as besoin :
</p> <ul>
    <li>Vecteur des valeurs des neuronnes de la couche précédente (0, 0, 0, 1, 1, 1, 0, 0, 0) <small class="text-muted">ça correspond à l'image d'une ligne horizontale</small></li>
    <li>Vecteur des poids associé au premier neurone de la couche 2 (6, -4, 6, 8, -5, 8, 6, -4, 7)</li>
</ul>
</div>
    

    
        <div data-ex="question"><p> </p>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <input type="number" value="0" class="form-control" data-answer="11">

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            (0, 0, 0, 1, 1, 1, 0, 0, 0) * (6, -4, 6, 8, -5, 8, 6, -4, 7) =<br> 0*6 + 0*(-4) + 0*6 + 1*8 + 1*(-5) + 1*8 + 0*6 + 0*(-4) + 0*7 =<br> 8 - 5 + 8 = 11

        </p>
    </div>
</div>
    

    
        <div class="card border-warning mb-3">
    <div class="card-header">
        <button class="btn btn-link" type="button" onclick="toggleNext(this)">
            Aide
        </button>
    </div>
    <div class="collapse hide">
        <div class="card-body">
            <p class="card-text">
                Il suffit de calculer le produit matriciel de (0, 0, 0, 1, 1, 1, 0, 0, 0) * (6, -4, 6, 8, -5, 8, 6, -4, 7) = 0*6 + 0*(-4) + ...

            </p>
        </div>
    </div>
</div>
    
</div>

    
<div data-ex="exercice">
    

    
        <div data-ex="intro"><p>
    Il ne nous reste plus qu'à faire de même pour les deux autres neurones de la même couche.
    Je t'ai precemment donné le vecteur des poids uniquement pour la premier neuronne, je te donne maintenant la matrice entière pour cette couche.
    <table class="table table-sm table-dark table-bordered">
        <!--
        <thead>
        <tr>
            <th scope="col">Numéro de neurone de la couche 2</th>
            <th scope="col">Neurone 1 couche 1</th>
            <th scope="col">Neurone 2 couche 1</th>
            <th scope="col">Neurone 3 couche 1</th>
            <th scope="col">Neurone 4 couche 1</th>
            <th scope="col">Neurone 5 couche 1</th>
            <th scope="col">Neurone 6 couche 1</th>
            <th scope="col">Neurone 7 couche 1</th>
            <th scope="col">Neurone 8 couche 1</th>
            <th scope="col">Neurone 9 couche 1</th>
        </tr>
        </thead>-->
        <tbody>
        <tr>
            <td>6</td>
            <td>-4</td>
            <td>6</td>
            <td>8</td>
            <td>-5</td>
            <td>8</td>
            <td>6</td>
            <td>-4</td>
            <td>7</td>
        </tr>
        <tr>
            <td>6</td>
            <td>8</td>
            <td>7</td>
            <td>-4</td>
            <td>-5</td>
            <td>-4</td>
            <td>4</td>
            <td>9</td>
            <td>7</td>
        </tr>
        <tr>
            <td>0</td>
            <td>-1</td>
            <td>9</td>
            <td>-3</td>
            <td>-1</td>
            <td>7</td>
            <td>-1</td>
            <td>-1</td>
            <td>8</td>
        </tr>
        </tbody>
    </table>
</p> <p>
   Chaque ligne de la matrice correspond à un vecteur de poids.
    Par exemple, la première ligne correspond au vecteur de poids associé au premier neurone de la couche 2, c'est celle que je t'ai donné dans l'exercice précédent.
</p>
</div>
    

    
        <div data-ex="question"><p>
    En gardant le vecteur des valeurs de la couche précédente de l'exercice précédent et la matrice de la couche 2,  calcul la valeur des 2 neurone restant de la couche 2.
</p>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Valeur neurone 2 couche 2</span>
    </div>
    <input type="number" value="0" class="form-control" data-answer="-13">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Valeur neurone 3 couche 2</span>
    </div>
    <input type="number" value="0" class="form-control" data-answer="3">
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Le premier : (0, 0, 0, 1, 1, 1, 0, 0, 0) * (6, 8, 7, -4, -5, -4, 7, 9, 7) = -4 - 5 - 4 = -13<br> Le second : (0, 0, 0, 1, 1, 1, 0, 0, 0) * (0, -1, 9, -3, -1, 7, -1, -1, 8) = -3 - 1 + 7 = 3

        </p>
    </div>
</div>
    

    
        <div class="card border-warning mb-3">
    <div class="card-header">
        <button class="btn btn-link" type="button" onclick="toggleNext(this)">
            Aide
        </button>
    </div>
    <div class="collapse hide">
        <div class="card-body">
            <p class="card-text">
                Il suffit de calculer 2 produits matriciels.<br> Le premier : (0, 0, 0, 1, 1, 1, 0, 0, 0) * (6, 8, 7, -4, -5, -4, 7, 9, 7)<br> Le second : (0, 0, 0, 1, 1, 1, 0, 0, 0) * (0, -1, 9, -3, -1, 7, -1, -1, 8)

            </p>
        </div>
    </div>
</div>
    
</div>

    
<div data-ex="exercice">
    

    
        <div data-ex="intro"><p>
    On peut faire de même avec les neurones de la dernière couche avec leur matrice de poids.
    <table class="table table-sm table-dark table-bordered">
        <tbody>
        <tr>
            <td>-5</td>
            <td>7</td>
            <td>-4</td>
        </tr>
        <tr>
            <td>5</td>
            <td>-7</td>
            <td>4</td>
        </tr>

        </tbody>
    </table>
    Encore un dernier effort ! Plus que 2 produits matriciels à calculer et on pourra enfin tirer des conclusions interessantes de tout ces calculs.
</p>
</div>
    

    
        <div data-ex="question"><p>
    Calcul les valeurs des 2 neurones de la couche de sortie en utilisant la matrice de poids de la couche 3 et les valeurs des neurones de la couche précédents (donc celles que tu as calculé juste avant).
</p>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Valeur neurone 1 couche 3</span>
    </div>
    <input type="number" value="0" class="form-control" data-answer="-158">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Valeur neurone 2 couche 3</span>
    </div>
    <input type="number" value="0" class="form-control" data-answer="158">
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Le premier : (11, -13, 3) * (-5, 7, -4) = 11*(-5) + (-13)*7 + 3*(-4) = -55 - 91 - 12 = -158<br> Le second : le résultat est l'opposé de celui au dessus vu que le sedonc vecteur est l'opposé du premier = 158

        </p>
    </div>
</div>
    

    
        <div class="card border-warning mb-3">
    <div class="card-header">
        <button class="btn btn-link" type="button" onclick="toggleNext(this)">
            Aide
        </button>
    </div>
    <div class="collapse hide">
        <div class="card-body">
            <p class="card-text">
                Si tu n'as pas réussi l'exercice précédent, je te donne les valeurs des 3 neurones : 11, -13 et 3.<br> Il suffit de calculer 2 produits matriciels.<br> Le premier : (11, -13, 3) * (-5, 7, -4)<br> Le second : (11, -13, 3) * (5, -7, 4)

            </p>
        </div>
    </div>
</div>
    
</div>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Tirer des conclusions de nos résultats</h3>
    

    
        <div data-ex="intro"><p>
    Une fois les valeurs des neurones de la dernière couche connues, on peut en tirer des conclusions.<br>
    Dans notre cas, les poids que je t'es donné ont été choisi de manière à pouvoir différencier une ligne verticale d'une ligne horizontale.<br>
    J'ai également choisi que le premier neurone de la couche de sortie représente une ligne verticale, et l'autre la ligne horizontale.
    Ainsi, plus la valeur du premier neurone de la couche de sortie est grande, plus le réseau pense que c'est une ligne verticale et inversément pour l'autre neurone.
    Autrement dit, il te suffit de prendre le maximum des deux pour obtenir la conclusion obtenu par le réseau.
</p> <p>
    Etant donné que l'exercice précédent était un peu épuisant, je vais te donner les images ainsi que les valeurs des neurones de sorties pour l'image (donc tu n'aura pas à les calculer).
    Tu devras pour chaque image et valeur des neurones de sorties, tirer la conclusion que le réseau donnerait (ligne horizontale ou ligne verticale ?).
</p>
</div>
    

    
        <div data-ex="question"><div style="text-align: center">
    <img src="/static/img/NN/ex/GrilleEx2.PNG">
    Valeur des neuronnes de sorties : (56, -56)
</div>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <select class="form-control" data-answer="Ligne verticale">
    <option>Ligne verticale</option>
    <option>Ligne horizontale</option>
</select>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Le réseau pense que c'est une ligne verticale, en effet 56 > -56 et le premier neuronne correspond à celui à conclure que c'est une ligne verticale.

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    

    

    
        <div data-ex="question"><div style="text-align: center">
    <img src="/static/img/NN/ex/GrilleEx3.PNG">
    Valeur des neuronnes de sorties : (-176, 176)
</div>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <select class="form-control" data-answer="Ligne horizontale">
    <option>Ligne verticale</option>
    <option>Ligne horizontale</option>
</select>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Le réseau pense que c'est une ligne horizontale, en effet -176 > 176 et le second neuronne correspond à celui à conclure que c'est une ligne horizontale.

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    

    

    
        <div data-ex="question"><div style="text-align: center">
    <img src="/static/img/NN/ex/GrilleEx4.PNG">
    Valeur des neuronnes de sorties : (-131, 131)
</div>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <select class="form-control" data-answer="Ligne horizontale">
    <option>Ligne verticale</option>
    <option>Ligne horizontale</option>
</select>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Le réseau pense que c'est une ligne horizontale, en effet -131 > 131 et le second neuronne correspond à celui à conclure que c'est une ligne horizontale.<br> Ca peut paraitre bizarre, mais oui, le réseau détecte cette image comme une ligne horizontale et non une verticale !<br> La raison est que je ne l'ai pas entrainé à reconnaitre ce types de lignes verticales, du coup les poids ne sont pas paramétré pour cela.

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Transformer nos données avec une fonction d'activation</h3>
    

    
        <div data-ex="intro"><p>
    Jusqu'à présent, les valeurs des neurones sont assez arbitraires, leurs valeurs dans l'aboslues ne signifie rien de particulier et elles n'ont pas de significations particulière.
    Par exemple : est ce qu'une valeur de 56 est grande ? Ca dépend, si les autres valeurs sont 3 et 5 alors oui, mais si elles sont de 1996 et 2019 alors non.<br>
    Pour cela on va utiliser une <b>fonction d'activation</b>, l'idée étant de restreindre les données sur un certain domaine (par exemple entre 0 et 1).
</p> <p>
    Il existe diverses fonctions d'activation que l'on peut utiliser, la plus utilisé est la <i>sigmoide</i>.<br>
    Son équation est la suivante : <img src="https://cdn-images-1.medium.com/max/1600/1*DHN75JRJ_EQgGc0spfqLtQ.png"><br>
    Son graphique est le suivant : <br>
    <img class="img-fluid mx-auto d-block" src="https://cdn-images-1.medium.com/max/1600/0*5euYS7InCmDP08ir."><br>
<p id="sigmoidCalculator">
    <input id="sigmoidX" type="number" value="0" class="form-control" step="0.1">
    <button type="button" class="btn btn-secondary" onclick="let val = 1/(1+Math.exp(-$('#sigmoidX').val()));$('#sigmoidRes').text(Number(val.toFixed(8)));">Calculer</button>
    Résultat : <b><span id="sigmoidRes"></span></b>
</p>
<p>
    Cette fonction comporte de nombreux avantages, mais ici ce qui va nous intéresser c'est qu'elle permet de transformer nos valeurs pour les mettre entre 0 et 1.<br>
    En l'appliquant successivement sur tout les neurones calculés tu verras qu'à la fin on n'aura les probabilités pour chaque conclusion au lieu d'avoir une valeur arbitraire.<br>
    Par exemple en l'appliquant sur l'exemple de l'exercice précédent qui avait comme valeur de neurones de sorties (56, -56), on obtient maintenant (92%, 8%) qui signifie que le réseau pense à 92% que c'est une ligne verticale.
</p>
</div>
    

    
        <div data-ex="question"><p>
    Dans cette première partie je vais te donner les valeurs des neurones de la seconde couche d'une image précédente : (18, -6, 11).<br>
    Commence par calculer la fonction sigmoide pour chacune des valeurs données avec <a href="#sigmoidCalculator">l'outil au-dessus</a>.
</p>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Valeur neurone 1 couche 2 après fonction d'activation</span>
    </div>
    <input type="number" value="0" step="0.1" class="form-control" data-answer="0.99999998">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Valeur neurone 2 couche 2 après fonction d'activation</span>
    </div>
    <input type="number" value="0" step="0.1" class="form-control" data-answer="0.00247262">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Valeur neurone 3 couche 2 après fonction d'activation</span>
    </div>
    <input type="number" value="0" step="0.1" class="form-control" data-answer="0.9999833">
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Il suffit de rentrer une par une les valeurs de la couche précédente dans l'outil et de copier-coller la valeur.<br> Les valeurs sont : 0.99999998, 0.00247262 et 0.9999833.

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    

    
        <div data-ex="intro"><p>
    Pour passer à la couche 3 il faudra de nouveau appliquer un produit matriciel avec la matrice de poids.<br>
    Je t'épargne cette étape de calcul, les résultats sont : (-8.98262476, 8.98262476)
</p>
</div>
    

    
        <div data-ex="question"><p>
    Cacule la fonction sigmoide pour chacune des valeurs des neurones de sorties.
</p>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Valeur neurone 1 couche 3 après fonction d'activation</span>
    </div>
    <input type="number" value="0" step="0.1" class="form-control" data-answer="0.00012556">
</div> <div class="input-group">
    <div class="input-group-prepend">
        <span class="input-group-text">Valeur neurone 2 couche 3 après fonction d'activation</span>
    </div>
    <input type="number" value="0" step="0.1" class="form-control" data-answer="0.99987444">
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            De nouveau il faut utiliser l'outil et copier-coller la valeur.<br> Les valeurs sont : 0.00012556, 0.99987444

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    

    

    
        <div data-ex="question"><p>
    Quelle est le pourcentage de conclusion du réseau (arrondi 2 chiffres après la virgule), que la ligne est horizontale ?
</p>
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="input-group">
    <input type="number" value="0" step="0.01" class="form-control" data-answer="99.98">
    <div class="input-group-append">
        <span class="input-group-text">%</span>
    </div>
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            La valeur du neurone de sortie après application de la sigmoide de la conclusion que la ligne est horizontale est de 0.99987444.<br> Ce qui est équivalent à 99.98%

        </p>
    </div>
</div>
    

    
</div>


<h2>Bilan</h2>
    TODO

<script>
    window.onbeforeunload = function (e) {
        var e = e || window.event;

        // For IE and Firefox
        if (e) {
            e.returnValue = 'Any string';
        }

        // For Safari
        return 'Any string';
    };
</script>
            </main>
            <nav>
    <ul id="buttonsPagination" class="pagination justify-content-center" style="padding: 16px">
    </ul>
</nav>
<script>
    let splitedPathName = window.location.pathname.split("/");
    let hrefs = getAllHrefForAlgo(algoHRef.indexOf(splitedPathName[splitedPathName.length-2]));
    let target = $('#buttonsPagination');
    let nextShouldBeHighlight = false;
    for (let i = 0; i < hrefs.length; i++) {
        let paginationButton = $("<li>").addClass("page-item");
        let link = hrefs[i];
        link.addClass("page-link");

        if (link.attr('href') === window.location.pathname) {
            nextShouldBeHighlight = true;
            paginationButton.addClass("disabled");
        } else if (nextShouldBeHighlight) {
            nextShouldBeHighlight = false;
            paginationButton.addClass("active");
        }

        paginationButton.append(link);
        target.append(paginationButton);
    }
</script>
        </div>

    </div>
</main>

<script src="/static/js/enlargeImageModal.js"></script>
<!-- Creates the bootstrap modal where the image will appear -->
<div class="modal fade bd-example-modal-xl" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <a href="#" target="_blank" id="imagepreviewLink"> <i class="fas fa-external-link-alt"></i></a>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <div class="mx-auto" align="center">
                    <img src="" class="imagepreview" data-dismiss="modal" style="max-width: 100%; height:auto">
                </div>
            </div>
        </div>
    </div>
</div>


<script src="/static/js/enlargeImageModal.js"></script>
<script>

    function pinElementTransformation(elem) {
        elem.find("table").addClass("table-sm"); // Reduce table size
        elem.each(function () {
            this.removeAttribute('id');
        })
    }

    function pin(elem) {
        let target = $('#pinnableArea');
        target.empty();

        let elementToCopy;
        elementToCopy = $(elem).clone(); // Convert to jQueryobject
        pinElementTransformation(elementToCopy);
        target.html(elementToCopy);
    }

    // Pinable area check
    let pinnableElements = $(".pinnable");
    if (pinnableElements.length === 0) { // If there is nothing to pin, delete the area
        $("#pinnableArea").remove();
    }
    else {
        /*
        <div class="float-right">
            <button type="button" onclick="pin(this.parentElement.nextElementSibling)" class="btn btn-info"><i class="fas fa-thumbtack"></i></button>
        </div>
        */
        pinnableElements.each(function() {
            let pinDiv = $("<div>").addClass("float-right");
            let pinButton = $("<button><i class='fas fa-thumbtack'></i></button>")
                .addClass("btn btn-info");
            pinDiv.append(pinButton);
            pinButton.click(() => {pin(this)}); // Pin the object itself, not the pin button
            pinDiv.insertBefore(this);
        });
    }
</script>
</body>
</html>