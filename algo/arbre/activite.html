<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Arbre de Décision interactif</title>
    

<!-- Database -->

<!-- Firebase App is always required and must be first -->
<script src="https://www.gstatic.com/firebasejs/5.8.3/firebase-app.js"></script>

<!-- Add additional services that you want to use -->
<!--<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-auth.js"></script>-->
<script src="https://www.gstatic.com/firebasejs/5.8.3/firebase-database.js"></script>
<!--<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-functions.js"></script>-->

<!-- Comment out (or don't include) services that you don't want to use -->
<!-- <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-storage.js"></script> -->

<script>
    var config = {
        apiKey: "AIzaSyDbZnAznbgeP1_bxyn9XNGGL4C9z-ex46k",
        authDomain: "site-memoire.firebaseapp.com",
        databaseURL: "https://site-memoire.firebaseio.com",
        projectId: "site-memoire",
        storageBucket: "site-memoire.appspot.com",
        messagingSenderId: "639582982387"
    };
    firebase.initializeApp(config);
</script>

<script src="/static/js/Database.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-134452435-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134452435-1');
</script>

<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<!-- Font Awesome-->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">

<!-- Custom css -->
<link rel="stylesheet" href="/static/css/style.css">

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<!-- MathJax -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>

<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>



    
        <!-- Plotlyjs -->
        <script type="text/javascript" src="/static/js/shared/plotlyjs-bundle.js"></script>
        <script type="text/javascript" src="/static/js/shared/figure.js"></script>
        <script type="text/javascript" src="/static/js/shared/plotInteraction.js"></script>
        <script type="text/javascript" src="customJS/plotInteraction.js"></script>
        <script src="https://cdn.plot.ly/plotly-locale-fr-latest.js"></script>
    

    
        <!-- Raphael -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"> </script>
    

    <!-- Custom Extra scripts -->
    
        <script type="text/javascript" src="/static/js/shared/iris.js"></script>
    
        <script type="text/javascript" src="/static/js/shared/GraphFunctions.js"></script>
    

    

    <script src="/static/js/contentForTeacher.js"></script>

    <!-- Success Message -->
    <link rel="stylesheet" href="/static/css/animationSuccess.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.1/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
</head>

<body>
<nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-primary" style="z-index: 1025">
    <!--<a class="navbar-brand" href="#">Titre</a>-->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul id="mainNavbarUl" class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="/"><i class="fas fa-home"></i></a>
            </li>
            <!-- Rest is filled automatically -->
        </ul>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="/contact.html"><i class="far fa-envelope"></i> Me contacter</a>
            </li>
        </ul>
        <!--<form class="form-inline my-2 my-lg-0">-->
            <!--<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">-->
            <!--<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>-->
        <!--</form>-->
    </div>
</nav>

<script>
    let algoPrefix = "/algo/";
    let algoActivityDesc = [
        "Introduction au concept général de l'algorithme",
        "Série de petits exercices de préparation pour introduire l'idée derrière l'algorithme.<br>Leur correction est automatisée.",
        "Activité interactive de l'algorithme considéré.<br>Ca sera l'étape finale pour prouver ta compréhension et découvrir le secret caché de cet algorithme !"
    ];
    let algoActivityIcon = [
        "<i class=\"far fa-lightbulb\"></i>",
        "<i class=\"fas fa-dumbbell\"></i>",
        "<i class=\"fas fa-flag-checkered\"></i>"
    ];
    // We can't use javascript variable into jekyll, so we precompute the values here
    let algoName = [ "Arbre de décisions",  "Méthodes des K plus proches voisins",  "Réseau neuronal", ];
    let algoHRef = [ "arbre",  "KNN",  "NN", ];
    let algoActivityName = [ "Arbre interactif",  "Blockly",  "Réseau de neurone interactif", ];
    let algoIcon = [ '<i class="fas fa-tree"></i>',  '<i class="far fa-dot-circle"></i>',  '<svg class="icon icon-cart" role="img" xmlns="http://www.w3.org/2000/svg" style="height:21px" viewBox="0 0 640 512" class="svg-inline--fa fa-chart-network fa-w-20"><path fill="currentColor" d="M568 368c-19.1 0-36.3 7.6-49.2 19.7L440.6 343c4.5-12.2 7.4-25.2 7.4-39 0-61.9-50.1-112-112-112-8.4 0-16.6 1.1-24.4 2.9l-32.2-69c15-13.2 24.6-32.3 24.6-53.8 0-39.8-32.2-72-72-72s-72 32.2-72 72 32.2 72 72 72c.9 0 1.8-.2 2.7-.3l33.5 71.7C241.5 235.9 224 267.8 224 304c0 61.9 50.1 112 112 112 30.7 0 58.6-12.4 78.8-32.5l82.2 47c-.4 3.1-1 6.3-1 9.5 0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72zM232 96c-13.2 0-24-10.8-24-24s10.8-24 24-24 24 10.8 24 24-10.8 24-24 24zm104 272c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64zm232 96c-13.2 0-24-10.8-24-24s10.8-24 24-24 24 10.8 24 24-10.8 24-24 24zm-54.4-261.2l-19.2-25.6-48 36 19.2 25.6 48-36zM576 192c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zM152 320h48v-32h-48v32zm-88-80c-35.3 0-64 28.7-64 64s28.7 64 64 64 64-28.7 64-64-28.7-64-64-64z" class="" data-darkreader-inline-fill="" style="--darkreader-inline-fill:currentColor;"></path></svg>', ];

    function populateNavBar() {
        for (let i = 0; i < algoHRef.length; i++) {
            let listItem = $('<li>');
            listItem.addClass("nav-item dropdown bg-primary");

            let algoIndexLink = $('<a>');
            algoIndexLink.addClass("nav-link");
            algoIndexLink.attr('href', algoPrefix + algoHRef[i] + "/");
            algoIndexLink.html(algoIcon[i] + " " + algoName[i] + ' <i class="fas fa-caret-down"></i>');
            listItem.append(algoIndexLink);

            let dropdown = $('<div>');
            dropdown.addClass("dropdown-menu showOnHover");

            let sections = getAllHrefForAlgo(i);
            for (let j = 0; j < sections.length; j++) {
                if (j === 2) {
                    dropdown.append($('<div>').addClass("dropdown-divider"));
                }
                sections[j].addClass("dropdown-item");
                dropdown.append(sections[j]);
            }

            listItem.append(dropdown);

            $("#mainNavbarUl").append(listItem);
        }


        /*
        <li class="nav-item dropdown bg-primary">
            <a class="nav-link" href="/algo/KNN/" role="button" aria-haspopup="true" aria-expanded="false">
                K plus proches voisins <i class="fas fa-caret-down"></i>
            </a>
            <div class="dropdown-menu showOnHover" aria-labelledby="navbarDropdown" style="z-index: 10001">
                <a class="dropdown-item" href="/algo/KNN/ex-preparatoires">Exercices préparatoires</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="/algo/KNN/blockly-aide">Consignes et utilisation pour la phase pratique</a>
                <a class="dropdown-item" href="/algo/KNN/blockly">Phase pratique (Blockly)</a>
            </div>
        </li>
         */
    }
    populateNavBar();

    function getAllHrefForAlgo(algoConfingIndex) {
        let ret = [];
        let pagesDefaultName = ["Introduction", "Exercices préparatoires", "Activité"];
        let pagesDefaultHref = ["intro", "exercice", "activite"];

        for (let i = 0; i < pagesDefaultName.length; i++) {
            let link = $('<a>');
            link.attr('href', algoPrefix + algoHRef[algoConfingIndex] + "/" + pagesDefaultHref[i]);

            let linkText = pagesDefaultName[i];
            if (i === 2) {
                linkText += ` (${algoActivityName[algoConfingIndex]})`;
            }
            link.html(algoActivityIcon[i] + " " + linkText);

            ret.push(link);
        }
        return ret;
    }

    // Automatically highlight in the dropdown if the link match
    function highlightCorrectNavItem() {
        var allLinks = document.getElementsByTagName("a");
        for(var i = 0; i < allLinks.length; i++){
            var curLink = allLinks[i];
            // We use concatenation of this 2 windows parameters to avoid # id inclusion when href to id
            if (curLink.href === window.location.origin + window.location.pathname) {
                curLink.className += " active";
                try {
                    // Try to highlight the caret (only works if it is a subsection)
                    curLink.parentNode.parentNode.querySelector('a').getElementsByClassName("fa-caret-down")[0].className += " text-white lead";
                } catch (e) {}
                break;
            }
        }
    }
    highlightCorrectNavItem();

</script>
<main role="main" class="container" style="max-width: 95%">
    <nav>
        <div class="nav nav-tabs" id="nav-tab-activity" role="tablist">
            <a class="nav-item nav-link" data-toggle="tab" href="#nav-objective" role="tab" aria-controls="nav-objective" aria-selected="true"><i class="fas fa-flag-checkered"></i> Objectif</a>
            <a class="nav-item nav-link active" data-toggle="tab" href="#nav-activity" role="tab" aria-controls="nav-profile" aria-selected="false"><i class="fas fa-gamepad"></i> Activité</a>
            
                <a class="nav-item nav-link" data-toggle="tab" href="#nav-hints" role="tab" aria-controls="nav-hints" aria-selected="false"><i class="fas fa-puzzle-piece"></i> Aide pour résoudre l'activité</a>
            
            
                <a class="nav-item nav-link" data-toggle="tab" href="#nav-actions" role="tab" aria-controls="nav-actions" aria-selected="false"><i class="far fa-lightbulb"></i> Bon à savoir</a>
            
            
            <a class="nav-item nav-link" data-toggle="tab" href="#nav-details" role="tab" aria-controls="nav-details" aria-selected="false"><i class="fas fa-info"></i> Détails sur l'interface</a>
        </div>
    </nav>
    <div class="tab-content" id="nav-tabContent-activity">
        <!-- Objective Tab -->
        <div class="tab-pane fade" id="nav-objective" role="tabpanel" aria-labelledby="nav-objective-tab">
            <h1>Objectif</h1>
            <p>
                L'objectif de cette mission est d'obtenir un score de 100% pour cette activité.
                Une fois ce score atteint, le secret de cette activité te seras révélé.
            </p>
            <div class="progress-bar bg-success progress-bar-striped progress-bar-animated" role="progressbar" style="width: 100%; height: 32px">100.00%</div>
            <p>
                Le score est mis à jour à chaque fois que tu presse le bouton d'exécution <button type="button" class="btn btn-primary"><i class="fas fa-play"></i></button>.
            </p>

            
                <h2>Le score</h2>
                <p>
    Ton but dans cette mission est de créer un arbre de décision qui classifiera correctement les données de prédictions (cachés).<br>
    Autrement dit, j'ai des fleurs de classes connues que je vais introduire dans ton arbre de décision, je vais ensuite vérifier si la classe prédite par ton arbre (classe majoritaire de la feuille) est bien celle de la fleur.
</p> <p>
    Pour améliorer ton score tu peux intéragir avec l'arbre de décision qui se trouve dans la partie de droite
    de diverses façons.
</p> <p>
    Garde bien à l'esprit qu'il existe plusieurs arbre de décisions pour résoudre cette exercice. Ton but n'est <b>PAS</b> de faire un arbre dont chaque feuille est à 100% d'une fleur.<br>
    Personellement j'ai réussis l'activité en créant 2 décisions (noeuds internes), réfléchis donc bien à tes différents choix de décisions.<br>
    N'oublie pas que le choix des axes est important.
</p>

            
        </div>
        <!-- Activity Tab -->
        <div class="tab-pane fade show active" id="nav-activity" role="tabpanel" aria-labelledby="nav-activity-tab">
            <h1>Arbre de Décision interactif</h1>

            <!-- Toolbox -->
            <div id="toolBox"></div>
            <script src="/static/js/shared/ToolBox.js"></script>
            <script>
                let TB = new ToolBox("toolBox");
                TB.setToolBarForExercice("decision-tree");
                TB.draw();
            </script>

            <!-- Progress bar of prediction -->
            <div class="mt-2 col-md-12" >
                <h6 style="float: left; margin-right: 1em;"> Précision actuelle : </h6>
                <div id="progressBar"></div>
            </div>
            <script src="/static/js/successBar.js"></script>
            <script>
                let pb = new ProgressBar("progressBar");
                function exerciceSuccess() {
                    $('#exerciceSuccess').modal('toggle');
                    fancyPopIn();
                }
            </script>

            <!-- Main content of the activity -->
            <div class="row mt-2 col-md-12">
    <!-- Graphe, tableau dynamique, etc -->
    <div class="col-sm-4">
        <div id="graphContainer" class="container plotly-graph-div">
        </div>
        <!--
        <div class="form-group row">
            <label for="axisXChoice" class="col-sm-3 col-form-label">Axe x :</label>
            <select class="form-control col-sm-9" id="axisXChoice">
                <script>
                    for (let i = 0; i < categories.length; i++) {
                        var newOpt = document.createElement("option");
                        if (i === 0) {
                            newOpt.selected="selected";
                        }
                        newOpt.value = categories[i];
                        newOpt.innerHTML = categoriesFR[i];
                        $('#axisXChoice').append(newOpt); // TODO : refactor
                    }
                </script>
            </select>
        </div>

        <div class="form-group row">

            <label for="axisYChoice" class="col-sm-3 col-form-label">Axe y :</label>
            <select class="form-control col-sm-9" id="axisYChoice">
                <script>
                    for (let i = 0; i < categories.length; i++) {
                        var newOpt = document.createElement("option");
                        if (i === 1) {
                            newOpt.selected="selected";
                        }
                        newOpt.value = categories[i];
                        newOpt.innerHTML = categoriesFR[i];
                        $('#axisYChoice').append(newOpt); // TODO : refactor
                    }
                </script>
            </select>
        </div>
        -->
    </div>

    <!-- Visualisation graphique -->
    <div id="treeContainer" class="col-sm-8">
    </div>
</div>

<!-- Modal asking inputs for nodes -->
<div class="modal fade" id="askParameters" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalParametersTitle"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <select class="form-control" id="axisChoice">
                        <option id="axisXName" value="x">x</option>
                        <option id="axisYName" value="y">y</option>
                    </select>
                    <select class="form-control" id="operationChoice" >
                        <option value=1>=</option>
                        <option value=2>&ne;</option>
                        <option value=3>&gt;</option>
                        <option value=4>&ge;</option>
                        <option value=5>&lt;</option>
                        <option value=6>&le;</option>
                    </select>
                    <input type="number" id="valueChoice" class="form-control" value="0" step="0.2">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-warning" id="deleteButton" data-dismiss="modal" onclick="BT.deleteNode()">Supprimer</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="BT.parseAskParametersValues()">Sauver</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
            </div>
        </div>
    </div>
</div>



<script src="customJS/BinaryTree.js"></script>
<script src="/static/js/shared/plot.js"></script>
<script>
    let treeContainer = document.getElementById("treeContainer");

    function resizeTreeCanva() {
        let containerWidth = treeContainer.offsetWidth;
        let containerHeight = treeContainer.offsetHeight;
        canvaSizeChange(containerWidth, containerHeight);
    }

    $(window).ready(function () {
        resizeTreeCanva();
    });
    $(window).resize(function() {
        resizeTreeCanva();
    });

    //TODO : petit bricolage, faudrait mieux gérer ça !!
    currentXCat = categories[2];
    currentYCat = categories[3];
    function afterPlotFirstDraw() {
        Plotly.restyle(graphContainer, {name : "Banane"}, 0);
        Plotly.restyle(graphContainer, {name : "Poire"}, 1);
        Plotly.restyle(graphContainer, {name : "Melon"}, 2);
        //figure.data[0].marker.name = "Kiwi";
        modifyXAxisName("longueur");
        modifyYAxisName("hauteur");
        $('#axisXName').text("longueur");
        $('#axisYName').text("hauteur");
        figure.layout.title=false;
        redrawPlot();
    }


    // Update modal text
    /*
    function afterXChange() {
        $('#axisXName').text(frenchTranslationCat(currentXCat));
        BT.reset();
    }

    function afterYChange() {
        $('#axisYName').text(frenchTranslationCat(currentYCat));
        BT.reset();
    }
    afterXChange();
    afterYChange();
     */
</script>
        </div>

        <!-- Useful actions Tab -->
        
            <div class="tab-pane fade" id="nav-actions" role="tabpanel" aria-labelledby="nav-actions-tab">
                
                    <h3>Ajouter un nouveau noeud interne / Créer deux nouvelles feuilles</h3>
                    <p>
    Pour ajouter un nouveau noeud interne à l'arbre, il suffit de cliquer sur une des feuilles existantes de l'arbre.
    Elles sont indiquées par un cercle avec un "+" noir à l'intérieur.<br>
    Une fois cliquée, une boite de dialogue vous demandera de choisir une métrique (l'axe <code>x</code> ou l'axe <code>y</code>), un opérateur et la valeur avec laquelle comparer.
    Après confirmation la feuille deviendra un noeud interne et triera automatiquement les données du modèle d'entrainement selon l'axe, opérateur et valeur choisie.
    Ainsi, deux branches seront créés, celle de gauche contenant l'ensemble des données du modèle d'entrainement répondant à l'évaluation, et celle de droite n'y répondant pas.
</p> <img class="img-fluid mx-auto d-block" src="/static/img/arbre/animCreation.gif">

                
                    <h3>Modifier un noeud interne</h3>
                    <p>
    Pour cela il te suffit de cliquer sur un noeud interne existant.
    Une boite de dialogue identique à celle d'ajout de noeud apparaitra permettant de modifier les données
</p> <img class="img-fluid mx-auto d-block" src="/static/img/arbre/animModification.gif">

                
                    <h3>Supprimer un noeud interne / Transformer un noeud interne en feuille</h3>
                    <p>
    Pour cela il suffit de cliquer sur un noeud interne existant.
    Dans la boite de dialogue apparaissant un bouton te permet de supprimer le noeud.<br>
    La supression du noeud interne crééra automatiquement une feuille et détruira tout les enfants du noeud.
</p> <img class="img-fluid mx-auto d-block" src="/static/img/arbre/animSupression.gif">

                
                    <h3>Visualiser les données</h3>
                    <p>
    Afin d'éviter de surcharger l'interface, les données n'apparaissent que lorsque tu survole de la souris des éléments spécifiques.
</p> <p>
    Lors du survol d'une feuille, un texte apparait en dessous avec les proportions de chaque classe ainsi que la classe majoritaire indiquée en gras.<br>
    <img class="img-fluid mx-auto d-block" src="/static/img/arbre/exampleHoverLeaf.PNG">
    Si la feuille ne contient aucune fleur, le texte <i>(vide)</i> sera indiqué.<br>
    <img class="img-fluid mx-auto d-block" src="/static/img/arbre/exampleHoverLeafEmpty.PNG">

    Tu remarquera que le graphique se met également à jour en focalisant en jaune les fleurs concernées.<br>
</p>
<p>
    Les noeuds internes modifient également le graphique lors du survol de la souris, indiquant les fleurs concernées par l'évaluation du noeud.<br>
    Toutes les fleurs qui sont sur fond rouge sont les fleurs qui ne répondent pas à l'évaluation, au contraire, celles sur fond vert sont celles qui y répondent.
    Il y aura également une ligne qui sera déssinée qui délimite la frontière avec la valeur du noeud, le code couleur est le même que celui des zones.
</p>
<div>
    Voici le graphique pour l'évaluation du noeud interne <code>largeur sépale &ge; 6</code>
    <img class="img-fluid mx-auto d-block" src="/static/img/arbre/exampleHoverEvaluation.PNG">
    <small class="text-muted"><br>
        Toutes les fleurs qui ont une largeur de sépale <code> < 6 </code>(ne répondant pas à l'évaluation) sont dans la zone rouge à gauche de la ligne.<br>
        Les fleurs répondant à l'évaluation (donc qui ont une <code>largeur sépale &ge; 6 </code>) sont bien dans la zone verte à droite de la ligne.<br>
        Comme l'opération est inclusive (&ge; et non >) la ligne est verte)
    </small>
</div>

                
            </div>
        

        
        
            <!-- Hints/Help for solving the activity Tab -->
            <div class="tab-pane fade" id="nav-hints" role="tabpanel" aria-labelledby="nav-hints-tab">
                <h1>Aide pour résoudre l'activité</h1>
                <p>
                    L’algorithme peut être séparé en plusieurs étapes distinctes qui, petit à petit, te rapprocheront de la solution.
                    Je vais t’aider dans cette partie à atteindre la bonne solution en te donnant les intuitions.<br>
                    Libre à toi de faire autrement si tu le souhaites tant que la prédiction finale est bonne.
                </p>
                
                    <h3>Etape 1 : Créer l'arbre de décision</h3>
                    <p>
    Dans l'état présent notre arbre de décision classifie très mal.<br>
    Il classifie toutes les fleurs comme des <i>Iris-setosa</i>, du coup seulement 1/3 des fleurs testés sont correctes.
</p> <div class="mt-2 col-md-12">
    <h6 style="float: left; margin-right: 1em;"> Prédiction courante : </h6>
    <div class="progress" style="height: 32px;">
        <div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" role="progressbar" style="width: 33%;">33.33%</div>
    </div>
</div> <p>
    Il faudra chercher un peu à tâtons pour créer ton arbre de décision.<br>
    Ton but étant de séparer au mieux les 3 classes de fleurs différentes en choisissant bien tes axes, operations et paramètres.
</p>

                    
                    
                        <div class="card border-warning mb-3">
    <div class="card-header" onclick="toggleSib(this)">
        <button class="btn btn-link" type="button" onclick="toggleNext(this)">
            Aide
        </button>
    </div>
    <div class="collapse hide">
        <div class="card-body">
            <p class="card-text">
                <p>
    Il faut déjà bien fixer nos axes, les 2 qui séparent mieux les groupes sont les métriques de pétale (largeur et longueur).<br>
    Après ça il faut trouver les valeurs qui "coupe" les groupes en 2.<br>
    Par exemple dans les alentours de 3 en largeur pétale (avec l'opérateur <code>></code> par exemple) permet de mettre toutes les <i>setosa</i> d'un coté et les 2 autres classes de l'autre.<br>
    Il nous reste maintenant à séparer ce nouveau groupe pour différencier une <i>versicolor</i> d'une <i>viriginica</i>.
</p>

            </p>
        </div>
    </div>
</div>
                    
                    
                        <button type="button" class="btn btn-success" onclick="giveCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
                        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Un exemple d'arbre qui fonctionne à 100% est le suivant :<br> <div class="mx-auto" align="center">
    <img src="/static/img/arbre/arbreSol.JPG" class="img-fluid"><br>
</div> Avec les paramètres d'axes :<br> <div class="mx-auto" align="center">
    <img src="/static/img/arbre/paraSol.JPG" class="img-fluid"><br>
</div> <br> Le graphique ressemblerai à :<br> <div class="mx-auto" align="center">
    <img src="/static/img/arbre/plotCorr.jpg" class="img-fluid"><br>
</div>

        </p>
    </div>
</div>
                    
                

            </div>
        
        <!-- Details/documentation Tab -->
        <div class="tab-pane fade" id="nav-details" role="tabpanel" aria-labelledby="nav-details-tab">
            <h1>Détails sur l'interface</h1>
            <h2>Structure de la page</h2>
            
                <h3>Barre d'outil</h3>
                <p>
                    Dans la partie supérieure de l’écran tu as différents boutons te permettant de réaliser certaines actions que nous allons détailler ici.
                </p>
                <div id="toolboxExplanation"></div>
                <script>
                    //let TBEXplanation = new ToolBox();
                    let explanations = [];
                    
                    explanations.push("Réinitialiser l'arbre à zéro en effacant tout les noeuds existant.");
                    
                    explanations.push("Sauvegarder/télécharger ton projet sur ton ordinateur");
                    
                    explanations.push("Ouvrir un projet précédemment sauvegardé.<br>L'arbre ainsi que tes pramètres d'axes seront rétablis");
                    
                    explanations.push("Tester le classifieur sur l'arbre de décision courant.<br>Cela te permettra de réussir ton objectif !");
                    
                    explanations.push("Renvoie vers la page d'aide (celle-ci)");
                    
                    TB.drawExplanation("toolboxExplanation", explanations);
                </script>
            

            
                <h3>Données et Paramètres</h3>
                La partie de gauche te permet d'observer les données ainsi que de modifier les paramètres de l'arbre.

                <ul class="list-unstyled">
                    
                        <li class="media">
                            <img src="/static/img/arbre/graph.PNG" class="mr-3 img-fluid" >
                            <div class="media-body">
                                <h4 class="mt-0 mb-1">Panneau Graphe et Données</h4>
                                Te permet de consulter et visualiser les données du training set. Chaque point du graphe correspond à une fleur du training set. Sa forme et couleur définit sa classe comme légendé en dessous du graphe.<br> Tu peux survoler avec ta souris un point pour obtenir des informations le concernant.<br> Les informations montrer peuvent varier en fonction des actions que tu effectus avec l'arbre interactif.<br>

                            </div>
                        </li>
                    
                        <li class="media">
                            <img src="/static/img/arbre/axisParameters.PNG" class="mr-3 img-fluid" >
                            <div class="media-body">
                                <h4 class="mt-0 mb-1">Panneau paramètres</h4>
                                Te permet de modifier le choix des axes <code>x</code> et <code>y</code> parmi les différentes métriques.

                            </div>
                        </li>
                    
                </ul>
            

            
                <h3>Arbre interactif</h3>
                <p>
                    La partie de droite est l'emplacement ou tu pourra créer et modifier ton arbre de décision.
                </p>

                
                    <div class="text-center">
    <img src="/static/img/arbre/exempleInteractifSchema.png" class="img-fluid rounded">
    <img src="/static/img/arbre/arbreInreactifEx.png" class="img-fluid rounded">
    <small class="text-muted"><br>
        Deux représentation du même arbre de décision.
        A gauche la version utilisée dans les exercices préparatoires.
        A droite celle utilisée dans l'outil interactif.
    </small>
</div> <br> L'ensemble des fonctionnalités disponibles se feront majoritairement à l'aide de cette interface. Ainsi tu sera capable de faire diverses actions tels qu'ajouter, modifier les noeuds de ton arbre, consulter l'arbre et modifier la visualisation du graphique.<br> Le schéma représente l'arbre de décision correspondant au données d'un modèle d'entrainement d'Iris.<br> <br> Les cercles représente les <b>feuilles</b> de l'arbre de décision. La coloration symbolise le pourcentage de chaque classe du modèle, c'est comme un diagramme en camembert. Tu peux survoler de ta souris la feuille pour qu'une version textuelle t'indique la même information La couleur du contour détermine la classe majoritaire de cette feuille (texte mis en gras lors du survol de la souris) <br> Les rectangles arrondis représente les <b>noeuds interne</b> de l'arbre de décision. Ce sont l'ensemble des décisions qui crééront dynamiquement les feuilles de notre arbre de décision. Chaque décision est composé de 3 paramètres : un axe, l'opérateur et la valeur (par exemple <code>x = 12</code> ou <code>y > 42</code>). Pour chaque donnée du modèle d'entrainement, si l'évaluation avec cet axe, opérateur et valeur est vrai, alors cette donnée sera dans la branche de droite, sinon elle sera dans cette de gauche. <br> <img class="img-fluid mx-auto d-block" src="/static/img/arbre/arbreInteractifLegende.png">

                
                
            
        </div>
    </div>

</main>

<!-- Success Animation when activity is succeded -->
<div class="modal" id="exerciceSuccess" tabindex="-1" role="dialog" aria-labelledby="exerciceSuccessLabel" aria-hidden="true" style="background-color: rgba(0,250,255,0.5);">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div id="congrats">
            <h1 id="sucessMessage">Bravo !
            
                <br>
                Le secret de cet exercice est : houx<br>
                <i class="fas fa-holly-berry"></i>
            
            </h1>
        </div>
    </div>
</div>
<script src="/static/js/animationSuccess.js"></script>
<script>
    function giveCorrection(elem) {
        if (confirm("Souhaite tu vraiment afficher la correction ? ")) {
            let correctionNode = elem.nextElementSibling;
            if (correctionNode.className.includes("onlyTeacher")) {
                correctionNode.style.display = "block";
                $(correctionNode).collapse({
                    toggle: true
                })
            }
            elem.remove();
        }
    }
</script>

<script src="/static/js/enlargeImageModal.js"></script>
<!-- Creates the bootstrap modal where the image will appear -->
<div class="modal fade bd-example-modal-xl" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <a href="#" target="_blank" id="imagepreviewLink"> <i class="fas fa-external-link-alt"></i></a>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <div class="mx-auto" align="center">
                    <img src="" class="imagepreview" data-dismiss="modal" style="max-width: 100%; height:auto">
                </div>
            </div>
        </div>
    </div>
</div>


</body>
</html>