<html lang="fr">
<head>
    <title>Exercices KNN</title>
    

<!-- Database -->

<!-- Firebase App is always required and must be first -->
<script src="https://www.gstatic.com/firebasejs/5.8.3/firebase-app.js"></script>

<!-- Add additional services that you want to use -->
<!--<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-auth.js"></script>-->
<script src="https://www.gstatic.com/firebasejs/5.8.3/firebase-database.js"></script>
<!--<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-functions.js"></script>-->

<!-- Comment out (or don't include) services that you don't want to use -->
<!-- <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-storage.js"></script> -->

<script>
    var config = {
        apiKey: "AIzaSyDbZnAznbgeP1_bxyn9XNGGL4C9z-ex46k",
        authDomain: "site-memoire.firebaseapp.com",
        databaseURL: "https://site-memoire.firebaseio.com",
        projectId: "site-memoire",
        storageBucket: "site-memoire.appspot.com",
        messagingSenderId: "639582982387"
    };
    firebase.initializeApp(config);
</script>

<script src="/static/js/Database.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-134452435-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134452435-1');
</script>

<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<!-- Font Awesome-->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">

<!-- Custom css -->
<link rel="stylesheet" href="/static/css/style.css">

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- add after bootstrap.min.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.0/dist/bootstrap-toc.min.css">
<!-- add after bootstrap.min.js -->
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.0/dist/bootstrap-toc.min.js"></script>
    <script src="/static/js/contentForTeacher.js"></script>
    <script src="/static/js/automaticCorrection.js"></script>

</head>


<body data-spy="scroll" data-target="#toc">
<nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-primary" style="z-index: 1025">
    <!--<a class="navbar-brand" href="#">Titre</a>-->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul id="mainNavbarUl" class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="/"><i class="fas fa-home"></i></a>
            </li>
            <!-- Rest is filled automatically -->
        </ul>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="/contact.html"><i class="far fa-envelope"></i> Me contacter</a>
            </li>
        </ul>
        <!--<form class="form-inline my-2 my-lg-0">-->
            <!--<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">-->
            <!--<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>-->
        <!--</form>-->
    </div>
</nav>

<script>
    let algoPrefix = "/algo/";
    let algoActivityDesc = [
        "Introduction au concept général de l'algorithme",
        "Série de petits exercices de préparation pour introduire l'idée derrière l'algorithme<br>Leur correction est automatisée.",
        "Phase expliquant le fonctionement et objectif de l'activité.<br>Cette phase est nécessaire pour comprendre la suivante",
        "Activité intéractive de l'algorithme. Les activités dépendent des algorithmes eux-mêmes."
    ];
    let algoActivityIcon = [
        "<i class=\"far fa-lightbulb\"></i>",
        "<i class=\"fas fa-dumbbell\"></i>",
        "<i class=\"far fa-question-circle\"></i>",
        "<i class=\"fas fa-flag-checkered\"></i>"
    ];
    // We can't use javascript variable into jekyll, so we precompute the values here
    let algoName = [ "Méthodes des K plus proches voisins",  "Arbre de décisions",  "Réseau neuronal", ];
    let algoHRef = [ "KNN",  "arbre",  "NN", ];
    let algoActivityName = [ "Blockly",  "Arbre intéractif",  "Réseau de neurone intéractif", ];
    let algoIcon = [ '<i class="far fa-dot-circle"></i>',  '<i class="fas fa-tree"></i>',  '<svg class="icon icon-cart" role="img" xmlns="http://www.w3.org/2000/svg" style="height:21px" viewBox="0 0 640 512" class="svg-inline--fa fa-chart-network fa-w-20"><path fill="currentColor" d="M568 368c-19.1 0-36.3 7.6-49.2 19.7L440.6 343c4.5-12.2 7.4-25.2 7.4-39 0-61.9-50.1-112-112-112-8.4 0-16.6 1.1-24.4 2.9l-32.2-69c15-13.2 24.6-32.3 24.6-53.8 0-39.8-32.2-72-72-72s-72 32.2-72 72 32.2 72 72 72c.9 0 1.8-.2 2.7-.3l33.5 71.7C241.5 235.9 224 267.8 224 304c0 61.9 50.1 112 112 112 30.7 0 58.6-12.4 78.8-32.5l82.2 47c-.4 3.1-1 6.3-1 9.5 0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72zM232 96c-13.2 0-24-10.8-24-24s10.8-24 24-24 24 10.8 24 24-10.8 24-24 24zm104 272c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64zm232 96c-13.2 0-24-10.8-24-24s10.8-24 24-24 24 10.8 24 24-10.8 24-24 24zm-54.4-261.2l-19.2-25.6-48 36 19.2 25.6 48-36zM576 192c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zM152 320h48v-32h-48v32zm-88-80c-35.3 0-64 28.7-64 64s28.7 64 64 64 64-28.7 64-64-28.7-64-64-64z" class="" data-darkreader-inline-fill="" style="--darkreader-inline-fill:currentColor;"></path></svg>', ];

    function populateNavBar() {
        for (let i = 0; i < algoHRef.length; i++) {
            let listItem = $('<li>');
            listItem.addClass("nav-item dropdown bg-primary");

            let algoIndexLink = $('<a>');
            algoIndexLink.addClass("nav-link");
            algoIndexLink.attr('href', algoPrefix + algoHRef[i] + "/");
            algoIndexLink.html(algoIcon[i] + " " + algoName[i] + ' <i class="fas fa-caret-down"></i>');
            listItem.append(algoIndexLink);

            let dropdown = $('<div>');
            dropdown.addClass("dropdown-menu showOnHover");

            let sections = getAllHrefForAlgo(i);
            for (let j = 0; j < sections.length; j++) {
                if (j === 2) {
                    dropdown.append($('<div>').addClass("dropdown-divider"));
                }
                sections[j].addClass("dropdown-item");
                dropdown.append(sections[j]);
            }

            listItem.append(dropdown);

            $("#mainNavbarUl").append(listItem);
        }


        /*
        <li class="nav-item dropdown bg-primary">
            <a class="nav-link" href="/algo/KNN/" role="button" aria-haspopup="true" aria-expanded="false">
                K plus proches voisins <i class="fas fa-caret-down"></i>
            </a>
            <div class="dropdown-menu showOnHover" aria-labelledby="navbarDropdown" style="z-index: 10001">
                <a class="dropdown-item" href="/algo/KNN/ex-preparatoires">Exercices préparatoires</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="/algo/KNN/blockly-aide">Consignes et utilisation pour la phase pratique</a>
                <a class="dropdown-item" href="/algo/KNN/blockly">Phase pratique (Blockly)</a>
            </div>
        </li>
         */
    }
    populateNavBar();

    function getAllHrefForAlgo(algoConfingIndex) {
        let ret = [];
        let pagesDefaultName = ["Introduction", "Exercices préparatoires", "Consignes et utilisation pour l'activité", "Activité"];
        let pagesDefaultHref = ["intro", "exercice", "activite-aide", "activite"];

        for (let i = 0; i < pagesDefaultName.length; i++) {
            let link = $('<a>');
            link.attr('href', algoPrefix + algoHRef[algoConfingIndex] + "/" + pagesDefaultHref[i]);

            let linkText = pagesDefaultName[i];
            if (i === 3) {
                linkText += ` (${algoActivityName[algoConfingIndex]})`;
            }
            link.html(algoActivityIcon[i] + " " + linkText);

            ret.push(link);
        }
        return ret;
    }

    // Automatically highlight in the dropdown if the link match
    function highlightCorrectNavItem() {
        var allLinks = document.getElementsByTagName("a");
        for(var i = 0; i < allLinks.length; i++){
            var curLink = allLinks[i];
            // We use concatenation of this 2 windows parameters to avoid # id inclusion when href to id
            if (curLink.href === window.location.origin + window.location.pathname) {
                curLink.className += " active";
                curLink.parentNode.parentNode.querySelector('a').getElementsByClassName("fa-caret-down")[0].className += " text-white lead";
                break;
            }
        }
    }
    highlightCorrectNavItem();

</script>

<main role="main" class="container" style="max-width: 95%">
    <div class="row">
        <!-- sidebar, which will move to the top on a small screen -->
        <div class="col-sm-3">
            <div class="sticky-top" style="padding-top:64px">
                <nav id="toc" data-toggle="toc" style="padding-bottom: 32px" ></nav>
                <div id="pinnableArea" class="card" style="overflow: auto;max-height: 400px">
                    <div class="text-muted" style="text-align: center">
                        Utilise le bouton avec l'icone <br>
                        <i style="font-size: 24px" class="fas fa-thumbtack"></i> <br>
                        pour épingler des éléments ici
                    </div>
                </div>
            </div>
        </div>

        <!-- main content area -->
        <div class="col-sm-9">
            <main role="main" class="container">
                <h1>Exercices KNN</h1>

<h2>Contexte</h2>
<p>
    Il existe plusieurs variations de la fleur d’Iris,
    parmi celles-ci trois sont particulièrement difficiles à identifier et demandent des tests biologiques
    très couteux et qui prennent longtemps afin d’affirmer avec certitude l’origine de la fleur.
    Ces trois fleurs sont l’Iris-setosa, l’Iris-versicolor et l’Iris-viginica
</p>

<div class="card-deck">
    
        <div class="card">

            <img class="rounded center-thumb" src="https://www.plant-world-seeds.com/images/item_images/000/007/023/large_square/iris_baby_blue.jpg">
            <div class="card-body">
                <h5 class="card-title">Iris-setosa</h5>
            </div>
        </div>
    
        <div class="card">

            <img class="rounded center-thumb" src="https://www.promessedefleurs.com/media/catalog/product/cache/1/image/615x/9df78eab33525d08d6e5fb8d27136e95/I/r/Iris-versicolor-9345-2.jpg">
            <div class="card-body">
                <h5 class="card-title">Iris-versicolor</h5>
            </div>
        </div>
    
        <div class="card">

            <img class="rounded center-thumb" src="https://www.fs.fed.us/wildflowers/beauty/iris/Blue_Flag/images/iris_virginica_virginica_lg.jpg">
            <div class="card-body">
                <h5 class="card-title">Iris-virginica</h5>
            </div>
        </div>
    
</div>

<p>
    Une récente recherche scientifique suggère que l’on peut discerner les trois fleurs en mesurant
    certains éléments de la fleur, plus particulièrement la longueur et largeur du
    <a href="https://fr.wikipedia.org/wiki/S%C3%A9pale">sépale</a> et du pétale.
    <br>Après avoir prélevé et analysé les échantillons au labo voici les résultats obtenus :
</p>

<div id="table1" style="overflow: auto" class="pinnable">
    <table class="table table-hover">
        <thead>
        <tr>
            <th scope="col">Iris</th>
            <th scope="col">Classe</th>
            <th scope="col">Longueur Sépale</th>
            <th scope="col">Largeur Sépale</th>
            <th scope="col">Longueur Pétale</th>
            <th scope="col">Largeur Pétale</th>
        </tr>
        </thead>
        <tbody>
        
        

            
            <tr class="table-primary">
                <th scope="row"> 1</th>
                <td>Iris-setosa</td>
                <td>4.6</td>
                <td>3.6</td>
                <td>1.0</td>
                <td>0.2</td>
            </tr>
        

            
            <tr class="table-primary">
                <th scope="row"> 2</th>
                <td>Iris-setosa</td>
                <td>4.3</td>
                <td>3.0</td>
                <td>1.1</td>
                <td>0.1</td>
            </tr>
        

            
            <tr class="table-primary">
                <th scope="row"> 3</th>
                <td>Iris-setosa</td>
                <td>5.0</td>
                <td>3.2</td>
                <td>1.2</td>
                <td>0.2</td>
            </tr>
        

            
            <tr class="table-primary">
                <th scope="row"> 4</th>
                <td>Iris-setosa</td>
                <td>5.8</td>
                <td>4.0</td>
                <td>1.2</td>
                <td>0.2</td>
            </tr>
        

            
            <tr class="table-danger">
                <th scope="row"> 5</th>
                <td>Iris-versicolor</td>
                <td>5.1</td>
                <td>2.5</td>
                <td>3.0</td>
                <td>1.1</td>
            </tr>
        

            
            <tr class="table-danger">
                <th scope="row"> 6</th>
                <td>Iris-versicolor</td>
                <td>5.0</td>
                <td>2.3</td>
                <td>3.3</td>
                <td>1.0</td>
            </tr>
        

            
            <tr class="table-danger">
                <th scope="row"> 7</th>
                <td>Iris-versicolor</td>
                <td>4.9</td>
                <td>2.4</td>
                <td>3.3</td>
                <td>1.0</td>
            </tr>
        

            
            <tr class="table-danger">
                <th scope="row"> 8</th>
                <td>Iris-versicolor</td>
                <td>5.0</td>
                <td>2.0</td>
                <td>3.5</td>
                <td>1.0</td>
            </tr>
        

            
            <tr class="table-success">
                <th scope="row"> 9</th>
                <td>Iris-virginica</td>
                <td>4.9</td>
                <td>2.5</td>
                <td>4.5</td>
                <td>1.7</td>
            </tr>
        

            
            <tr class="table-success">
                <th scope="row"> 10</th>
                <td>Iris-virginica</td>
                <td>6.2</td>
                <td>2.8</td>
                <td>4.8</td>
                <td>1.8</td>
            </tr>
        

            
            <tr class="table-success">
                <th scope="row"> 11</th>
                <td>Iris-virginica</td>
                <td>6.0</td>
                <td>3.0</td>
                <td>4.8</td>
                <td>1.8</td>
            </tr>
        

            
            <tr class="table-success">
                <th scope="row"> 12</th>
                <td>Iris-virginica</td>
                <td>6.3</td>
                <td>2.7</td>
                <td>4.9</td>
                <td>1.8</td>
            </tr>
        
        </tbody>
        <caption>Tableau 1 : Différentes mesures (en cm) pour quatre fleurs de chaque variété</caption>
    </table>
</div>

<h2>Exercices</h2>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Identification de 2 facteurs importants</h3>
    

    
        <div data-ex="intro"><p>
    Regarde attentivement les résultats obtenus dans le <a href="#table1">Tableau 1</a>.
</p>
</div>
    

    
        <div data-ex="question">Choisi parmi les quatre mesures (longueur sépale, largeur sépale, longueur pétale et largeur pétale) <strong>deux</strong> mesures qui te permettent de discerner au mieux les classes de fleurs (setosa, versicolor et virginica).
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <select class="form-control" data-answer="largeur pétale & longueur pétale">
    <option>largeur sépale & longueur sépale</option>
    <option>largeur sépale & largeur pétale</option>
    <option>largeur sépale & longueur pétale</option>

    <option>longueur sépale & largeur pétale</option>
    <option>longueur sépale & longueur pétale</option>

    <option>largeur pétale & longueur pétale</option>
</select>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Les 2 meilleurs critères à choisir ici sont les 2 derniers (longueur pétale et largeur pétale).<br> Les mesures en utilisant les sépales peuvent trop facilement permettre de confondre les 3 fleurs.<br> Le graphique correspondant est le suivant :<br> <img src="/static/img/KNN/GrilleKNNCorr.png" class="img-fluid">

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Identifier une nouvelle fleur</h3>
    

    
        <div data-ex="intro"><p>
    En te fiant au <a href="#table1">Tableau 1</a> et à la nouvelle fleur suivante :
</p> <table class="table table-hover pinnable" id="unknownIrisPar">
    <thead>
    <tr>
        <th scope="col">Longueur Sépale</th>
        <th scope="col">Largeur Sépale</th>
        <th scope="col">Longueur Pétale</th>
        <th scope="col">Largeur Pétale</th>
    </tr>
    </thead>
    <tbody>
    <tr class="table-secondary">
        <td>5.1</td>
        <td>2.6</td>
        <td>4.7</td>
        <td>1.9</td>
    </tr>
    </tbody>
</table>
</div>
    

    
        <div data-ex="question">Quelle est la fleurs, qui correspond à ses mesures ?
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <select class="form-control" data-answer="Iris-virginica">
    <option>Iris-setosa</option>
    <option>Iris-versicolor</option>
    <option>Iris-virginica</option>
</select>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            C'est (probalement) une <i>Iris-virginica</i>.<br> La longueur et la largeur de la sépale ne nous permettent pas de donner des informations fiables sur la fleur.<br> Cepandant la longueur et la largeur de la pétale sont très proche des <i>Iris-virginica</i> existantes.

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    

    
        <div data-ex="intro"><p>
    La personne ayant cueilli la fleur qui prétend être un grand biologiste propose que la fleur en question est une <i>Iris-setosa</i>.
</p>
</div>
    

    
        <div data-ex="question">Es-tu d’accord avec lui ? Pourquoi penses-tu cela ?
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="form-group">
    <label for="repEx2-1"></label>
    <textarea class="form-control" rows="4" id="repEx2-1" data-answer="non,trompe,proche"></textarea>
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Il se trompe probablement, d'après les données qu'on a dans le tableau 1, cette fleur n'a aucune de ses mesures proches des autres <i>Iris-setosa</i>.

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Vérification graphique</h3>
    

    
        <div data-ex="intro"><p>
    Voici le graphique correspondant aux données du <a href="#table1">Tableau 1</a> en utilisant la sépale comme mesure pour les axes :
    <img src="/static/img/KNN/GrilleKNNCorr.png" class="img-fluid"><br>
    Visualise où serait la <a href="#unknownIrisPar">nouvelle fleur</a> dans le graphique.
</p>
</div>
    

    
        <div data-ex="question">Que remarques-tu par rapport à la distance aux fleurs déjà présentes ?
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="form-group">
    <label for="repEx2-2"></label>
    <textarea class="form-control" rows="2" id="repEx2-2" data-answer="proche,groupe,vert,virginica"></textarea>
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            La fleur ajoutée se trouve dans le "regroupement" formé par toutes les autres <i>Iris-virginica</i>

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">K-plus proche voisins</h3>
    

    
        <div data-ex="intro"><p>
    Sur le graphique suivant, visualise un marqueur au coordonnée (5.1, 2.6)
</p> <img src="/static/img/KNN/exKNNGraphique.png" class="img-fluid pinnable">
</div>
    

    
        <div data-ex="question">Quelle est la couleur du point le plus proche de celui ajouté ?
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <select class="form-control" data-answer="Jaune">
    <option>Jaune</option>
    <option>Vert</option>
</select>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Jaune (il est juste un peu plus bas)

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    

    

    
        <div data-ex="question">Quelle est la couleur des trois points les plus proches ?
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <label for="repEx3-Nearest" class="col-form-label">Plus proche:</label> <select class="form-control col-sm-9" id="repEx3-Nearest" data-answer="Jaune">
    <option>Jaune</option>
    <option>Vert</option>
</select> <label for="repEx3-Nearest2" class="col-form-label">2eme plus proche:</label> <select class="form-control col-sm-9" id="repEx3-Nearest2" data-answer="Vert">
    <option>Jaune</option>
    <option>Vert</option>
</select> <label for="repEx3-Nearest3" class="col-form-label">3eme plus proche:</label> <select class="form-control col-sm-9" id="repEx3-Nearest3" data-answer="Vert">
    <option>Jaune</option>
    <option>Vert</option>
</select>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Jaune, puis vert et encore vert

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    

    

    
        <div data-ex="question">Quelle est la couleur majoritaire parmi les trois points les plus proches ?
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <select class="form-control" data-answer="Verte">
    <option>Jaune</option>
    <option>Verte</option>
</select>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Verte (2 vert pour 1 jaune)

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    

    

    
        <div data-ex="question">Quelle serait la couleur majoritaire si on avait pris seulement les deux points les plus proches ?
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <select class="form-control">
    <option>Jaune</option>
    <option>Verte</option>
</select> <div class="form-group">
    <label for="repEx3-Majority"></label>
    <textarea class="form-control" rows="2" id="repEx3-Majority" data-answer="égalité,pas,égale"></textarea>
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Pas de majorité car on à une égalité (1 jaune et 1 vert)

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    

    
        <div data-ex="intro">Supposons maintenant que les points jaunes représentent des <i>Iris-versicolor</i> et les verts des <i>Iris-virginica</i>.</div>
    

    
        <div data-ex="question">Quel serait la classe de la fleur qu’on vient d’ajouter ? Pourquoi ?
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="form-group">
    <label for="repEx3-justification"></label>
    <textarea class="form-control" rows="3" id="repEx3-justification" data-answer="proche,versicolor,éloigné,viriginica,nombre"></textarea>
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Si on se fie uniquement à la fleur la plus proche on peut penser que c’est une versicolor. Mais si l’on regarde les fleurs plus éloigné, il est plus probable que ça soit une iris-virginica.<br> Cette exercice n’a pas de réponse absolue, l’important c’est que tu comprennes la notion de majorité et que selon les paramètres qu’on pose (ici le nombre de voisins) la réponse peut changer.

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Prédiction</h3>
    

    
        <div data-ex="intro"><p>
    Voici trois nouvelles iris dont la variété est connue (mais pas donnée) :
</p>
<table class="table table-hover pinnable" id="table2">
    <thead>
    <tr>
        <th scope="col">Iris</th>
        <th scope="col">Longueur Sépale</th>
        <th scope="col">Largeur Sépale</th>
        <th scope="col">Longueur Pétale</th>
        <th scope="col">Largeur Pétale</th>
    </tr>
    </thead>
    <tbody>
    <tr class="table-secondary">
        <th scope="row">1</th>
        <td>6.1</td>
        <td>2.5</td>
        <td>1.2</td>
        <td>0.3</td>
    </tr>
    <tr class="table-secondary">
        <th scope="row">2</th>
        <td>4.6</td>
        <td>3.5</td>
        <td>2.9</td>
        <td>1.1</td>
    </tr>
    <tr class="table-secondary">
        <th scope="row">3</th>
        <td>4.7</td>
        <td>2.4</td>
        <td>4.3</td>
        <td>1.6</td>
    </tr>
    </tbody>
    <caption>Tableau 2 : Iris inconnus</caption>
</table>
<p>
    Notre but dans cette partie va être de <b>prédire</b> les fleurs à partir des données et <b>ensuite</b> on va vérifier si nos prédictions sont exactes.
</p>
</div>
    

    

    


    

    
</div>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Prédiction pour différentes métriques</h3>
    

    
        <div data-ex="intro"><p>
    Soit les trois fleurs données dans le <a href="#table2">Tableau 2</a>, avec le <a href="#table1">Tableau 1</a>
    comme modèle d’entrainement.
    Tu déterminera la classe de la fleur en regardant la majorité parmi <b>les trois voisins les plus proches</b>.<br>
    Pour cela tu peux t'aider des graphiques que je te donne : <br>
</p> <div style="text-align: center">
    <img src="/static/img/KNN/exKNNGraphiqueMetriqueSepale.png" class="img-fluid" style="padding-right: 32px">
    <img src="/static/img/KNN/exKNNGraphiqueMetriquePetale.png" class="img-fluid">
</div>
</div>
    

    
        <div data-ex="question">Détermine les fleurs avec les métriques suivantes:
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    Classifieur 1 ; Métrique sépale (longueur et largeur) :<br> <label for="repEx4.1-P1F1" class="col-sm-2 col-form-label">Iris 1</label> <select class="form-control col-sm-9" id="repEx4.1-P1F1" data-answer="Iris-virginica">
    <option>Iris-setosa</option>
    <option>Iris-versicolor</option>
    <option>Iris-virginica</option>
</select> <label for="repEx4.1-P1F2" class="col-sm-2 col-form-label">Iris 2</label> <select class="form-control col-sm-9" id="repEx4.1-P1F2" data-answer="Iris-setosa">
    <option>Iris-setosa</option>
    <option>Iris-versicolor</option>
    <option>Iris-virginica</option>
</select> <label for="repEx4.1-P1F3" class="col-sm-2 col-form-label">Iris 3</label> <select class="form-control col-sm-9" id="repEx4.1-P1F3" data-answer="Iris-versicolor">
    <option>Iris-setosa</option>
    <option>Iris-versicolor</option>
    <option>Iris-virginica</option>
</select> <br> Classifieur 2 ; Métrique pétale (longueur et largeur) :<br> <label for="repEx4.1-P2F1" class="col-sm-2 col-form-label">Iris 1</label> <select class="form-control col-sm-9" id="repEx4.1-P2F1" data-answer="Iris-setosa">
    <option>Iris-setosa</option>
    <option>Iris-versicolor</option>
    <option>Iris-virginica</option>
</select> <label for="repEx4.1-P2F2" class="col-sm-2 col-form-label">Iris 2</label> <select class="form-control col-sm-9" id="repEx4.1-P2F2" data-answer="Iris-versicolor">
    <option>Iris-setosa</option>
    <option>Iris-versicolor</option>
    <option>Iris-virginica</option>
</select> <label for="repEx4.1-P2F3" class="col-sm-2 col-form-label">Iris 3</label> <select class="form-control col-sm-9" id="repEx4.1-P2F3" data-answer="Iris-virginica">
    <option>Iris-setosa</option>
    <option>Iris-versicolor</option>
    <option>Iris-virginica</option>
</select>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Les données sont choisies de sorte qu’il n’y ait pas d’ambiguïtés pour déterminer la majorité.<br> Normalement, les résultats devraient êtres les suivants.<br> Classifieur 1 : Virginica, Setosa et Versicolor <br> Classifieur 2 : Setosa, Versicolor et Virginica <br>

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    
        <h3 data-ex="title">Précision de notre prédiction</h3>
    

    
        <div data-ex="intro"><p>
    Une fois l’étape précédente terminée, nous allons analyser l’exactitude de nos prédictions.<br>
</p> <p>
    Pendant que nous étions occupés avec nos passionnantes prédictions,
    les fleurs ont été envoyées au labo et elles ont été annoncées comme étant :
</p> <table class="table table-hover pinnable" id="table3">
    <thead>
    <tr>
        <th scope="col">Iris</th>
        <th scope="col">Classe</th>
    </tr>
    </thead>
    <tbody>
    <tr class="table-secondary">
        <th scope="row">1</th>
        <td>Iris-setosa</td>
    </tr>
    <tr class="table-secondary">
        <th scope="row">2</th>
        <td>Iris-versicolor</td>
    </tr>
    <tr class="table-secondary">
        <th scope="row">3</th>
        <td>Iris-setosa</td>
    </tr>
    </tbody>
    <caption>Tableau 3 : Variété des iris du <a href="#table2">Tableau 2</a></caption>
</table> <p>
    Calculons maintenant la précision de nos classifieurs.
</p>
</div>
    

    
        <div data-ex="question">Sur les trois classes de fleurs devinées, combien d’entre elles s’avèrent exactes ?
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    Classifieur 1 ; Métrique sépale (longueur et largeur) :<br> <select class="form-control col-sm-9" data-answer="0 (aucune)">
    <option>0 (aucune)</option>
    <option>1</option>
    <option>2</option>
    <option>3 (toute)</option>
</select>
<br> Classifieur 2 ; Métrique pétale (longueur et largeur) :<br> <select class="form-control col-sm-9" data-answer="2">
    <option>0 (aucune)</option>
    <option>1</option>
    <option>2</option>
    <option>3 (toute)</option>
</select>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            0/3 pour le premier et 2/3 pour le second.<br> Le premier classifieur n'a rien trouvé de correct, alors que le second c'est seulement trompé sur la dernière fleur prédite (Virginica au lieu de Setosa).

        </p>
    </div>
</div>
    

    
</div>

    
<div data-ex="exercice">
    

    

    
        <div data-ex="question">A partir de tes résultats, quel classifieur utiliserais-tu pour deviner une fleur d'iris ? Pourquoi ?
</div>
    

    
        <div class="card border-primary mb-3">
            <div class="card-header">Réponse</div>
            <div class="card-body text-primary">
                
                    <div class="form-group">
    <label for="repEx4-2-justification"></label>
    <textarea class="form-control" rows="6" id="repEx4-2-justification" data-answer="2,second"></textarea>
</div>

                
            </div>
            <div class="card-footer">
                <button type="button" class="btn btn-primary" onclick="checkAnswer(this)" data-attempts="0"><i class="fas fa-play"></i> Vérifier réponse</button>
                <span class="exFeedback"></span>
                <button type="button" class="btn btn-success correctionButton collapse" onclick="showCorrection(this)"><i class="fas fa-puzzle-piece"></i> Afficher la correction</button>
            </div>
        </div>
    


    
        <div class="card border-success mb-3 onlyTeacher collapse">
    <div class="card-header">Correction</div>
    <div class="card-body text-success">
        <p class="card-text">
            Le second est du coup plus intéressant puisqu’il prédit mieux. Autrement dit, on peut deviner avec plus de certitudes une Iris en mesurant sa pétale plutôt que sa sépale.<br> Intéressant de noter ici que notre classifieur n’est pas parfait non plus (il n’a pas un score de  3/3).<br> A noter également que nos données sont très petites pour pouvoir affirmer avec conviction que le second est toujours meilleur que le premier.

        </p>
    </div>
</div>
    

    
</div>




<h2>Bilan</h2>
    <ul>
        
        <li>L'algorithme des K plus proches voisins repose sur un principe assez simple.</li>
        
        <li>On se base sur des données connues (modèle d'entrainement) pour déduire la catégorie (classe) d'un nouvel élément en y trouvant celle qui est la plus présente parmis les données avec les valeurs les plus proches.</li>
        
        <li>On peut choisir le nombre de données les plus proches (K). Généralement on choisit 3.</li>
        
        <li>Le choix des mesures (métriques) pour lesquels on décide si l'élément est proche est important. On essaiera de trouver au mieux de choisir celles qui discerne le mieux les différentes classes.</li>
        
        <li>Les réultats ne sont pas toujours fiables ! Il ne faut pas croire à 100% ce que nous dit le classifieur, même s'il est bien fait</li>
        
    </ul>


<script>
    window.onbeforeunload = function (e) {
        var e = e || window.event;

        // For IE and Firefox
        if (e) {
            e.returnValue = 'Any string';
        }

        // For Safari
        return 'Any string';
    };
</script>
            </main>
            <nav>
    <div class="container">
        <div class="row">
            <div class="col-sm" id="paginationDivPrevious"></div>
            <div class="col-sm" style="text-align: right" id="paginationDivNext"></div>
        </div>
    </div>

</nav>
<script>
    let splitedPathName = window.location.pathname.split("/");
    let hrefs = getAllHrefForAlgo(algoHRef.indexOf(splitedPathName[splitedPathName.length-2]));
    let targetLast = $('#paginationDivPrevious');
    let targetNext = $('#paginationDivNext');
    let lastSave = null;
    let isNext = false;
    for (let i = 0; i < hrefs.length; i++) {
        let paginationButton = $("<a>").addClass("btn btn-link btn-lg").html("<<");
        let link = hrefs[i];
        paginationButton.attr("href", link.attr("href"));
        paginationButton.html(link.html());

        if (link.attr('href') === window.location.pathname) {
            if (lastSave !== null) {
                lastSave.append("  <<");
                targetLast.append(lastSave);
            }
            isNext = true;
        } else if (isNext) {
            isNext = false;
            paginationButton.prepend(">>  ");
            targetNext.append(paginationButton);
        }


        lastSave = paginationButton.clone();
    }
</script>
        </div>

    </div>
</main>

<script src="/static/js/enlargeImageModal.js"></script>
<!-- Creates the bootstrap modal where the image will appear -->
<div class="modal fade bd-example-modal-xl" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <a href="#" target="_blank" id="imagepreviewLink"> <i class="fas fa-external-link-alt"></i></a>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <div class="mx-auto" align="center">
                    <img src="" class="imagepreview" data-dismiss="modal" style="max-width: 100%; height:auto">
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();

            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
</script>
<script>

    function pinElementTransformation(elem) {
        elem.find("table").addBack('table').addClass("table-sm"); // Reduce table size
        elem.find("img").addBack('img')
            .click(imgOnClick) // Possible to enlarge the picture
            .css("height", "100%"); // Scale the image (keeping aspect ratio)
        elem.each(function () {
            this.removeAttribute('id');
        })
    }

    function pin(elem) {
        let target = $('#pinnableArea');
        target.empty();

        let elementToCopy;
        elementToCopy = $(elem).clone(); // Convert to jQueryobject
        pinElementTransformation(elementToCopy);
        target.html(elementToCopy);
    }

    // Pinable area check
    let pinnableElements = $(".pinnable");
    if (pinnableElements.length === 0) { // If there is nothing to pin, delete the area
        $("#pinnableArea").remove();
    }
    else {
        /*
        <div class="float-right">
            <button type="button" onclick="pin(this.parentElement.nextElementSibling)" class="btn btn-info"><i class="fas fa-thumbtack"></i></button>
        </div>
        */
        pinnableElements.each(function() {
            let pinDiv = $("<div>").addClass("float-right");
            let pinButton = $("<button><i class='fas fa-thumbtack'></i></button>")
                .addClass("btn btn-info");
            pinDiv.append(pinButton);
            pinButton.click(() => {pin(this)}); // Pin the object itself, not the pin button
            pinDiv.insertBefore(this);
        });
    }
</script>
</body>
</html>